{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport const getImagesByQuery = query => {\n  return axios\n    .get(`https://pixabay.com/api/`, {\n      params: {\n        key: '51362773-b845efdff4000eb7d694ec90c',\n        q: query,\n        orientation: 'horizontal',\n        safesearch: 'true',\n        image_type: 'photo',\n      },\n    })\n    .then(response => response.data);\n};\n","import SimpleLightbox from 'simplelightbox';\n\nconst refs = {\n  galleryList: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport const createGallery = images => {\n  const galleryCardTemplate = images\n    .map(\n      img =>\n        `<li class=\"gallery-card\">\n  <a href=\"${img.largeImageURL}\">\n    <img\n      class=\"js-gallery-img\"\n      src=\"${img.webformatURL}\"\n      alt=\"${img.tags}\"\n      width=\"360\"\n  /></a>\n  <ul class=\"info-list\">\n    <li class=\"info-item\">\n      <h3 class=\"info-item-title\">Likes</h3>\n      <p class=\"info-item-text\">${img.likes}</p>\n    </li>\n    <li class=\"info-item\">\n      <h3 class=\"info-item-title\">Views</h3>\n      <p class=\"info-item-text\">${img.views}</p>\n    </li>\n    <li class=\"info-item\">\n      <h3 class=\"info-item-title\">Comments</h3>\n      <p class=\"info-item-text\">${img.comments}</p>\n    </li>\n    <li class=\"info-item\">\n      <h3 class=\"info-item-title\">Downloads</h3>\n      <p class=\"info-item-text\">${img.downloads}</p>\n    </li>\n  </ul>\n</li>`\n    )\n    .join('');\n  refs.galleryList.innerHTML = galleryCardTemplate;\n  lightbox.refresh();\n};\n\nexport const clearGallery = () => {\n  refs.galleryList.innerHTML = '';\n};\n\nexport const showLoader = () => {\n  refs.loader.classList.remove('is-hidden');\n};\n\nexport const hideLoader = () => {\n  refs.loader.classList.add('is-hidden');\n};\n","import iziToast from 'izitoast';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nconst refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  galleryList: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nconst onSearchFormSubmit = e => {\n  e.preventDefault();\n  clearGallery();\n  const searchValue = e.target.elements['search-text'].value.trim();\n  if (searchValue === '') {\n    iziToast.error({\n      message: 'The input field must be filled in!',\n      position: 'topRight',\n    });\n    return;\n  }\n  showLoader();\n  getImagesByQuery(searchValue)\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n      createGallery(hits);\n    })\n    .catch(err => {\n      iziToast.error({\n        message: `Error: ${err}`,\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n};\n\nrefs.searchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["getImagesByQuery","query","axios","response","refs","lightbox","SimpleLightbox","createGallery","images","galleryCardTemplate","img","clearGallery","showLoader","hideLoader","onSearchFormSubmit","e","searchValue","iziToast","hits","err"],"mappings":"owBAEO,MAAMA,EAAmBC,GACvBC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,YAAa,aACb,WAAY,OACZ,WAAY,OACb,CACP,CAAK,EACA,KAAKE,GAAYA,EAAS,IAAI,ECX7BC,EAAO,CACX,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEYC,EAAgBC,GAAU,CACrC,MAAMC,EAAsBD,EACzB,IACCE,GACE;AAAA,aACKA,EAAI,aAAa;AAAA;AAAA;AAAA,aAGjBA,EAAI,YAAY;AAAA,aAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAMaA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,kCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,kCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,kCAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,MAI1C,EACA,KAAK,EAAE,EACVN,EAAK,YAAY,UAAYK,EAC7BJ,EAAS,QAAO,CAClB,EAEaM,EAAe,IAAM,CAChCP,EAAK,YAAY,UAAY,EAC/B,EAEaQ,EAAa,IAAM,CAC9BR,EAAK,OAAO,UAAU,OAAO,WAAW,CAC1C,EAEaS,EAAa,IAAM,CAC9BT,EAAK,OAAO,UAAU,IAAI,WAAW,CACvC,EClDMA,EAAO,CACX,WAAY,SAAS,cAAc,iBAAiB,EACpD,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMU,EAAqBC,GAAK,CAC9BA,EAAE,eAAc,EAChBJ,IACA,MAAMK,EAAcD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAC3D,GAAIC,IAAgB,GAAI,CACtBC,EAAS,MAAM,CACb,QAAS,qCACT,SAAU,UAChB,CAAK,EACD,MACD,CACDL,IACAZ,EAAiBgB,CAAW,EACzB,KAAK,CAAC,CAAE,KAAAE,KAAW,CAClB,GAAIA,EAAK,SAAW,EAAG,CACrBD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CACDV,EAAcW,CAAI,CACxB,CAAK,EACA,MAAMC,GAAO,CACZF,EAAS,MAAM,CACb,QAAS,UAAUE,CAAG,GACtB,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbN,GACN,CAAK,CACL,EAEAT,EAAK,WAAW,iBAAiB,SAAUU,CAAkB"}